import * as __banner_node_module from "node:module";
import * as __banner_node_path from "node:path";
import * as process from "node:process";
import * as __banner_node_url from "node:url";
const __filename = __banner_node_url.fileURLToPath(import.meta.url);
globalThis['__dirname'] = __banner_node_path.dirname(__filename);
const require = __banner_node_module.createRequire(import.meta.url);
var Wa=Object.create;var Dr=Object.defineProperty;var Ga=Object.getOwnPropertyDescriptor;var Ka=Object.getOwnPropertyNames;var za=Object.getPrototypeOf,Za=Object.prototype.hasOwnProperty;var Xa=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ti=(e,t)=>()=>(e&&(t=e(e=0)),t);var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Qe=(e,t)=>{for(var r in t)Dr(e,r,{get:t[r],enumerable:!0})},Ya=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ka(t))!Za.call(e,i)&&i!==r&&Dr(e,i,{get:()=>t[i],enumerable:!(n=Ga(t,i))||n.enumerable});return e};var oe=(e,t,r)=>(r=e!=null?Wa(za(e)):{},Ya(t||!e||!e.__esModule?Dr(r,"default",{value:e,enumerable:!0}):r,e));var hi=M((Am,Tl)=>{Tl.exports={name:"@prisma/internals",version:"7.0.1",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"~20.19.24","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"7.1.0-2.f09f2815f091dbba658cdcd2264306d88bb5bda6","@prisma/schema-engine-wasm":"7.1.0-2.f09f2815f091dbba658cdcd2264306d88bb5bda6","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.4.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}});var wi=M((Sm,Al)=>{Al.exports={name:"@prisma/engines-version",version:"7.1.0-2.f09f2815f091dbba658cdcd2264306d88bb5bda6",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"f09f2815f091dbba658cdcd2264306d88bb5bda6"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var xi=M(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.enginesVersion=void 0;Ft.enginesVersion=wi().prisma.enginesVersion});var Ei=M((Rm,bi)=>{"use strict";bi.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),1/0):0}});var Si=M((Im,vi)=>{"use strict";vi.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Ri=M((Vm,_t)=>{"use strict";_t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};_t.exports.default=_t.exports});var Jr=M((_f,_i)=>{"use strict";_i.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,l,c,u,p,y,g,x,b,_,Z,S,T,N=[];for(l=0;l<i;l++)N.push(l+1),N.push(t.charCodeAt(s+l));for(var he=N.length-1;a<o-3;)for(_=r.charCodeAt(s+(c=a)),Z=r.charCodeAt(s+(u=a+1)),S=r.charCodeAt(s+(p=a+2)),T=r.charCodeAt(s+(y=a+3)),g=a+=4,l=0;l<he;l+=2)x=N[l],b=N[l+1],c=e(x,c,u,_,b),u=e(c,u,p,Z,b),p=e(u,p,y,S,b),g=e(p,y,g,T,b),N[l]=g,y=p,p=u,u=c,c=x;for(;a<o;)for(_=r.charCodeAt(s+(c=a)),g=++a,l=0;l<he;l+=2)x=N[l],N[l]=g=e(x,c,g,_,N[l+1]),c=x;return g}}()});var qi=ti(()=>{"use strict"});var Ui=ti(()=>{"use strict"});var yn=M(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.anumber=gn;pe.abytes=Wo;pe.ahash=Lu;pe.aexists=$u;pe.aoutput=Vu;function gn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Nu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Wo(e,...t){if(!Nu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Lu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gn(e.outputLen),gn(e.blockLen)}function $u(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Vu(e,t){Wo(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var gs=M(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.add5L=m.add5H=m.add4H=m.add4L=m.add3H=m.add3L=m.rotlBL=m.rotlBH=m.rotlSL=m.rotlSH=m.rotr32L=m.rotr32H=m.rotrBL=m.rotrBH=m.rotrSL=m.rotrSH=m.shrSL=m.shrSH=m.toBig=void 0;m.fromBig=wn;m.split=Go;m.add=ls;var lr=BigInt(2**32-1),hn=BigInt(32);function wn(e,t=!1){return t?{h:Number(e&lr),l:Number(e>>hn&lr)}:{h:Number(e>>hn&lr)|0,l:Number(e&lr)|0}}function Go(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=wn(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var Ko=(e,t)=>BigInt(e>>>0)<<hn|BigInt(t>>>0);m.toBig=Ko;var zo=(e,t,r)=>e>>>r;m.shrSH=zo;var Zo=(e,t,r)=>e<<32-r|t>>>r;m.shrSL=Zo;var Xo=(e,t,r)=>e>>>r|t<<32-r;m.rotrSH=Xo;var Yo=(e,t,r)=>e<<32-r|t>>>r;m.rotrSL=Yo;var es=(e,t,r)=>e<<64-r|t>>>r-32;m.rotrBH=es;var ts=(e,t,r)=>e>>>r-32|t<<64-r;m.rotrBL=ts;var rs=(e,t)=>t;m.rotr32H=rs;var ns=(e,t)=>e;m.rotr32L=ns;var is=(e,t,r)=>e<<r|t>>>32-r;m.rotlSH=is;var os=(e,t,r)=>t<<r|e>>>32-r;m.rotlSL=os;var ss=(e,t,r)=>t<<r-32|e>>>64-r;m.rotlBH=ss;var as=(e,t,r)=>e<<r-32|t>>>64-r;m.rotlBL=as;function ls(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var cs=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);m.add3L=cs;var us=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;m.add3H=us;var ps=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);m.add4L=ps;var ds=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;m.add4H=ds;var ms=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);m.add5L=ms;var fs=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;m.add5H=fs;var qu={fromBig:wn,split:Go,toBig:Ko,shrSH:zo,shrSL:Zo,rotrSH:Xo,rotrSL:Yo,rotrBH:es,rotrBL:ts,rotr32H:rs,rotr32L:ns,rotlSH:is,rotlSL:os,rotlBH:ss,rotlBL:as,add:ls,add3L:cs,add3H:us,add4L:ps,add4H:ds,add5H:fs,add5L:ms};m.default=qu});var ys=M(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.crypto=void 0;var re=Xa("node:crypto");cr.crypto=re&&typeof re=="object"&&"webcrypto"in re?re.webcrypto:re&&typeof re=="object"&&"randomBytes"in re?re:void 0});var xs=M(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.Hash=h.nextTick=h.byteSwapIfBE=h.isLE=void 0;h.isBytes=Uu;h.u8=ju;h.u32=Bu;h.createView=Qu;h.rotr=Hu;h.rotl=Ju;h.byteSwap=En;h.byteSwap32=Wu;h.bytesToHex=Ku;h.hexToBytes=zu;h.asyncLoop=Xu;h.utf8ToBytes=ws;h.toBytes=ur;h.concatBytes=Yu;h.checkOpts=ep;h.wrapConstructor=tp;h.wrapConstructorWithOpts=rp;h.wrapXOFConstructorWithOpts=np;h.randomBytes=ip;var De=ys(),bn=yn();function Uu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ju(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Bu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Qu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Hu(e,t){return e<<32-t|e>>>t}function Ju(e,t){return e<<t|e>>>32-t>>>0}h.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function En(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}h.byteSwapIfBE=h.isLE?e=>e:e=>En(e);function Wu(e){for(let t=0;t<e.length;t++)e[t]=En(e[t])}var Gu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ku(e){(0,bn.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=Gu[e[r]];return t}var K={_0:48,_9:57,A:65,F:70,a:97,f:102};function hs(e){if(e>=K._0&&e<=K._9)return e-K._0;if(e>=K.A&&e<=K.F)return e-(K.A-10);if(e>=K.a&&e<=K.f)return e-(K.a-10)}function zu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=hs(e.charCodeAt(o)),a=hs(e.charCodeAt(o+1));if(s===void 0||a===void 0){let l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+a}return n}var Zu=async()=>{};h.nextTick=Zu;async function Xu(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,h.nextTick)(),n+=o)}}function ws(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function ur(e){return typeof e=="string"&&(e=ws(e)),(0,bn.abytes)(e),e}function Yu(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,bn.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var xn=class{clone(){return this._cloneInto()}};h.Hash=xn;function ep(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function tp(e){let t=n=>e().update(ur(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function rp(e){let t=(n,i)=>e(i).update(ur(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function np(e){let t=(n,i)=>e(i).update(ur(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function ip(e=32){if(De.crypto&&typeof De.crypto.getRandomValues=="function")return De.crypto.getRandomValues(new Uint8Array(e));if(De.crypto&&typeof De.crypto.randomBytes=="function")return De.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var Cs=M(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.shake256=A.shake128=A.keccak_512=A.keccak_384=A.keccak_256=A.keccak_224=A.sha3_512=A.sha3_384=A.sha3_256=A.sha3_224=A.Keccak=void 0;A.keccakP=vs;var _e=yn(),gt=gs(),z=xs(),Ts=[],Ps=[],As=[],op=BigInt(0),ft=BigInt(1),sp=BigInt(2),ap=BigInt(7),lp=BigInt(256),cp=BigInt(113);for(let e=0,t=ft,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Ts.push(2*(5*n+r)),Ps.push((e+1)*(e+2)/2%64);let i=op;for(let o=0;o<7;o++)t=(t<<ft^(t>>ap)*cp)%lp,t&sp&&(i^=ft<<(ft<<BigInt(o))-ft);As.push(i)}var[up,pp]=(0,gt.split)(As,!0),bs=(e,t,r)=>r>32?(0,gt.rotlBH)(e,t,r):(0,gt.rotlSH)(e,t,r),Es=(e,t,r)=>r>32?(0,gt.rotlBL)(e,t,r):(0,gt.rotlSL)(e,t,r);function vs(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,l=(s+2)%10,c=r[l],u=r[l+1],p=bs(c,u,1)^r[a],y=Es(c,u,1)^r[a+1];for(let g=0;g<50;g+=10)e[s+g]^=p,e[s+g+1]^=y}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=Ps[s],l=bs(i,o,a),c=Es(i,o,a),u=Ts[s];i=e[u],o=e[u+1],e[u]=l,e[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=up[n],e[1]^=pp[n]}r.fill(0)}var yt=class e extends z.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,_e.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,z.u32)(this.state)}keccak(){z.isLE||(0,z.byteSwap32)(this.state32),vs(this.state32,this.rounds),z.isLE||(0,z.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,_e.aexists)(this);let{blockLen:r,state:n}=this;t=(0,z.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,_e.aexists)(this,!1),(0,_e.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,_e.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,_e.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};A.Keccak=yt;var ne=(e,t,r)=>(0,z.wrapConstructor)(()=>new yt(t,e,r));A.sha3_224=ne(6,144,224/8);A.sha3_256=ne(6,136,256/8);A.sha3_384=ne(6,104,384/8);A.sha3_512=ne(6,72,512/8);A.keccak_224=ne(1,144,224/8);A.keccak_256=ne(1,136,256/8);A.keccak_384=ne(1,104,384/8);A.keccak_512=ne(1,72,512/8);var Ss=(e,t,r)=>(0,z.wrapXOFConstructorWithOpts)((n={})=>new yt(t,e,n.dkLen===void 0?r:n.dkLen,!0));A.shake128=Ss(31,168,128/8);A.shake256=Ss(31,136,256/8)});var _s=M((Sx,ie)=>{"use strict";var{sha3_512:dp}=Cs(),ks=24,ht=32,Tn=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function Os(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Is=(e="")=>Os(dp(e)).toString(36).slice(1),Rs=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),mp=e=>Rs[Math.floor(e()*Rs.length)],Fs=({globalObj:e=typeof global<"u"?global:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+Tn(ht,t):Tn(ht,t);return Is(n).substring(0,ht)},Ms=e=>()=>e++,fp=476782367,Ds=({random:e=Math.random,counter:t=Ms(Math.floor(e()*fp)),length:r=ks,fingerprint:n=Fs({random:e})}={})=>function(){let o=mp(e),s=Date.now().toString(36),a=t().toString(36),l=Tn(r,e),c=`${s+l+a+n}`;return`${o+Is(c).substring(1,r)}`},gp=Ds(),yp=(e,{minLength:t=2,maxLength:r=ht}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};ie.exports.getConstants=()=>({defaultLength:ks,bigLength:ht});ie.exports.init=Ds;ie.exports.createId=gp;ie.exports.bufToBigInt=Os;ie.exports.createCounter=Ms;ie.exports.createFingerprint=Fs;ie.exports.isCuid=yp});var Ns=M((Cx,wt)=>{"use strict";var{createId:hp,init:wp,getConstants:xp,isCuid:bp}=_s();wt.exports.createId=hp;wt.exports.init=wp;wt.exports.getConstants=xp;wt.exports.isCuid=bp});var ii={};Qe(ii,{defineExtension:()=>ri,getExtensionContext:()=>ni});function ri(e){return typeof e=="function"?e:t=>t.$extends(e)}function ni(e){return e}var si={};Qe(si,{validator:()=>oi});function oi(...e){return t=>t}var j=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};function Y(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function ai(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}function He(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function el(e){return{models:_r(e.models),enums:_r(e.enums),types:_r(e.types)}}function _r(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}import{isAnyNull as Tc,isDbNull as Pc,isJsonNull as Ac,ObjectEnumValue as vc}from"@prisma/client-runtime-utils";var It={};Qe(It,{$:()=>di,bgBlack:()=>ul,bgBlue:()=>fl,bgCyan:()=>yl,bgGreen:()=>dl,bgMagenta:()=>gl,bgRed:()=>pl,bgWhite:()=>hl,bgYellow:()=>ml,black:()=>sl,blue:()=>ae,bold:()=>$,cyan:()=>W,dim:()=>Je,gray:()=>ze,green:()=>Ge,grey:()=>cl,hidden:()=>il,inverse:()=>nl,italic:()=>rl,magenta:()=>al,red:()=>se,reset:()=>tl,strikethrough:()=>ol,underline:()=>We,white:()=>ll,yellow:()=>Ke});var Nr,li,ci,ui,pi=!0;typeof process<"u"&&({FORCE_COLOR:Nr,NODE_DISABLE_COLORS:li,NO_COLOR:ci,TERM:ui}=process.env||{},pi=process.stdout&&process.stdout.isTTY);var di={enabled:!li&&ci==null&&ui!=="dumb"&&(Nr!=null&&Nr!=="0"||pi)};function E(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!di.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var tl=E(0,0),$=E(1,22),Je=E(2,22),rl=E(3,23),We=E(4,24),nl=E(7,27),il=E(8,28),ol=E(9,29),sl=E(30,39),se=E(31,39),Ge=E(32,39),Ke=E(33,39),ae=E(34,39),al=E(35,39),W=E(36,39),ll=E(37,39),ze=E(90,39),cl=E(90,39),ul=E(40,49),pl=E(41,49),dl=E(42,49),ml=E(43,49),fl=E(44,49),gl=E(45,49),yl=E(46,49),hl=E(47,49);var wl=100,mi=["green","yellow","blue","magenta","cyan","red"],Ze=[],fi=Date.now(),xl=0,Lr=typeof process<"u"?process.env:{};globalThis.DEBUG??=Lr.DEBUG??"";globalThis.DEBUG_COLORS??=Lr.DEBUG_COLORS?Lr.DEBUG_COLORS==="true":!0;var Xe={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function bl(e){let t={color:mi[xl++%mi.length],enabled:Xe.enabled(e),namespace:e,log:Xe.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&Ze.push([o,...n]),Ze.length>wl&&Ze.shift(),Xe.enabled(o)||i){let l=n.map(u=>typeof u=="string"?u:El(u)),c=`+${Date.now()-fi}ms`;fi=Date.now(),globalThis.DEBUG_COLORS?a(It[s]($(o)),...l,It[s](c)):a(o,...l,c)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var k=new Proxy(bl,{get:(e,t)=>Xe[t],set:(e,t,r)=>Xe[t]=r});function El(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function gi(e=7500){let t=Ze.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function yi(){Ze.length=0}var Pl=hi(),$r=Pl.version;var Ti=oe(Ei(),1);function Vr(e){let t=(0,Ti.default)(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}var Pi="prisma+postgres",Mt=`${Pi}:`;function Ai(e){return e?.toString().startsWith(`${Mt}//`)??!1}function qr(e){if(!Ai(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var et={};Qe(et,{error:()=>Cl,info:()=>Sl,log:()=>vl,query:()=>Rl,should:()=>Ci,tags:()=>Ye,warn:()=>Ur});var Ye={error:se("prisma:error"),warn:Ke("prisma:warn"),info:W("prisma:info"),query:ae("prisma:query")},Ci={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function vl(...e){console.log(...e)}function Ur(e,...t){Ci.warn()&&console.warn(`${Ye.warn} ${e}`,...t)}function Sl(e,...t){console.info(`${Ye.info} ${e}`,...t)}function Cl(e,...t){console.error(`${Ye.error} ${e}`,...t)}function Rl(e,...t){console.log(`${Ye.query} ${e}`,...t)}function G(e,t){throw new Error(t)}function jr({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var kl=jr();function we(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(kl,"")}import Dt from"node:path";function Br(e){return Dt.sep===Dt.posix.sep?e:e.split(Dt.sep).join(Dt.posix.sep)}function Qr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Nt(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Hr(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function tt(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var ki=new Set,Oi=(e,t,...r)=>{ki.has(e)||(ki.add(e),Ur(t,...r))};function xe(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Lt(e){return e.toString()!=="Invalid Date"}import{Decimal as Ol}from"@prisma/client-runtime-utils";function be(e){return Ol.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}import{PrismaClientValidationError as wc}from"@prisma/client-runtime-utils";var $t={};Qe($t,{ModelAction:()=>Ee,datamodelEnumToSchemaEnum:()=>Il,datamodelSchemaEnumToSchemaEnum:()=>Fl});function Il(e){return{name:e.name,data:e.values.map(t=>({key:t.name,value:t.dbName??t.name}))}}function Fl(e){return{name:e.name,data:e.values.map(t=>({key:t,value:t}))}}var Ee=(T=>(T.findUnique="findUnique",T.findUniqueOrThrow="findUniqueOrThrow",T.findFirst="findFirst",T.findFirstOrThrow="findFirstOrThrow",T.findMany="findMany",T.create="create",T.createMany="createMany",T.createManyAndReturn="createManyAndReturn",T.update="update",T.updateMany="updateMany",T.updateManyAndReturn="updateManyAndReturn",T.upsert="upsert",T.delete="delete",T.deleteMany="deleteMany",T.groupBy="groupBy",T.count="count",T.aggregate="aggregate",T.findRaw="findRaw",T.aggregateRaw="aggregateRaw",T))(Ee||{});var Di=oe(Si());import Ll from"node:fs";var Ii={keyword:W,entity:W,value:e=>$(ae(e)),punctuation:ae,directive:W,function:W,variable:e=>$(ae(e)),string:e=>$(Ge(e)),boolean:Ke,number:W,comment:ze};var Ml=e=>e,Vt={},Dl=0,f={manual:Vt.Prism&&Vt.Prism.manual,disableWorkerMessageHandler:Vt.Prism&&Vt.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof V){let t=e;return new V(t.type,f.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(f.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Dl}),e.__id},clone:function e(t,r){let n,i,o=f.util.type(t);switch(r=r||{},o){case"Object":if(i=f.util.objId(t),r[i])return r[i];n={},r[i]=n;for(let s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s],r));return n;case"Array":return i=f.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(s,a){n[a]=e(s,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=f.util.clone(f.languages[e]);for(let n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||f.languages;let i=n[e],o={};for(let a in i)if(i.hasOwnProperty(a)){if(a==t)for(let l in r)r.hasOwnProperty(l)&&(o[l]=r[l]);r.hasOwnProperty(a)||(o[a]=i[a])}let s=n[e];return n[e]=o,f.languages.DFS(f.languages,function(a,l){l===s&&a!=e&&(this[a]=o)}),o},DFS:function e(t,r,n,i){i=i||{};let o=f.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],n||s);let a=t[s],l=f.util.type(a);l==="Object"&&!i[o(a)]?(i[o(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[o(a)]&&(i[o(a)]=!0,e(a,r,s,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return f.hooks.run("before-tokenize",n),n.tokens=f.tokenize(n.code,n.grammar),f.hooks.run("after-tokenize",n),V.stringify(f.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,o,s){for(let b in r){if(!r.hasOwnProperty(b)||!r[b])continue;if(b==s)return;let _=r[b];_=f.util.type(_)==="Array"?_:[_];for(let Z=0;Z<_.length;++Z){let S=_[Z],T=S.inside,N=!!S.lookbehind,he=!!S.greedy,Mr=0,Qa=S.alias;if(he&&!S.pattern.global){let F=S.pattern.toString().match(/[imuy]*$/)[0];S.pattern=RegExp(S.pattern.source,F+"g")}S=S.pattern||S;for(let F=n,X=i;F<t.length;X+=t[F].length,++F){let Be=t[F];if(t.length>e.length)return;if(Be instanceof V)continue;if(he&&F!=t.length-1){S.lastIndex=X;var p=S.exec(e);if(!p)break;var u=p.index+(N?p[1].length:0),y=p.index+p[0].length,a=F,l=X;for(let Ja=t.length;a<Ja&&(l<y||!t[a].type&&!t[a-1].greedy);++a)l+=t[a].length,u>=l&&(++F,X=l);if(t[F]instanceof V)continue;c=a-F,Be=e.slice(X,l),p.index-=X}else{S.lastIndex=0;var p=S.exec(Be),c=1}if(!p){if(o)break;continue}N&&(Mr=p[1]?p[1].length:0);var u=p.index+Mr,p=p[0].slice(Mr),y=u+p.length,g=Be.slice(0,u),x=Be.slice(y);let Ot=[F,c];g&&(++F,X+=g.length,Ot.push(g));let Ha=new V(b,T?f.tokenize(p,T):p,Qa,p,he);if(Ot.push(Ha),x&&Ot.push(x),Array.prototype.splice.apply(t,Ot),c!=1&&f.matchGrammar(e,t,r,F,X,!0,b),o)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let i in n)t[i]=n[i];delete t.rest}return f.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=f.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=f.hooks.all[e];if(!(!r||!r.length))for(var n=0,i;i=r[n++];)i(t)}},Token:V};f.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};f.languages.javascript=f.languages.extend("clike",{"class-name":[f.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});f.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;f.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:f.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:f.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:f.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:f.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});f.languages.markup&&f.languages.markup.tag.addInlined("script","javascript");f.languages.js=f.languages.javascript;f.languages.typescript=f.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});f.languages.ts=f.languages.typescript;function V(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}V.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return V.stringify(r,t)}).join(""):_l(e.type)(e.content)};function _l(e){return Ii[e]||Ml}function Fi(e){return Nl(e,f.languages.javascript)}function Nl(e,t){return f.tokenize(e,t).map(n=>V.stringify(n)).join("")}function Mi(e){return Vr(e)}var qt=class e{firstLineNumber;lines;static read(t){let r;try{r=Ll.readFileSync(t,"utf-8")}catch{return null}return e.fromContent(r)}static fromContent(t){let r=t.split(/\r?\n/);return new e(1,r)}constructor(t,r){this.firstLineNumber=t,this.lines=r}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new e(this.firstLineNumber,i)}mapLines(t){return new e(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,r){return this.mapLines((n,i)=>i===t?`${r} ${n}`:`  ${n}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new e(t,Mi(n).split(`
`))}highlight(){let t=Fi(this.toString());return new e(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}};var $l={red:se,gray:ze,dim:Je,bold:$,underline:We,highlightSource:e=>e.highlight()},Vl={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function ql({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function Ul({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},o){let s=ql({message:t,originalMethod:r,isPanic:n,callArguments:i});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return s;let a=e.getLocation();if(!a||!a.lineNumber||!a.columnNumber)return s;let l=Math.max(1,a.lineNumber-3),c=qt.read(a.fileName)?.slice(l,a.lineNumber),u=c?.lineAt(a.lineNumber);if(c&&u){let p=Bl(u),y=jl(u);if(!y)return s;s.functionName=`${y.code})`,s.location=a,n||(c=c.mapLineAt(a.lineNumber,x=>x.slice(0,y.openingBraceIndex))),c=o.highlightSource(c);let g=String(c.lastLineNumber).length;if(s.contextLines=c.mapLines((x,b)=>o.gray(String(b).padStart(g))+" "+x).mapLines(x=>o.dim(x)).prependSymbolAt(a.lineNumber,o.bold(o.red("\u2192"))),i){let x=p+g+1;x+=2,s.callArguments=(0,Di.default)(i,x).slice(x)}}return s}function jl(e){let t=Object.keys(Ee).join("|"),n=new RegExp(String.raw`\.(${t})\(`).exec(e);if(n){let i=n.index+n[0].length,o=e.lastIndexOf(" ",n.index)+1;return{code:e.slice(o,i),openingBraceIndex:i}}return null}function Bl(e){let t=0;for(let r=0;r<e.length;r++){if(e.charAt(r)!==" ")return t;t++}return t}function Ql({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],l=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${l}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${l}`)),t&&a.push(s.underline(Hl(t))),i){a.push("");let c=[i.toString()];o&&(c.push(o),c.push(s.dim(")"))),a.push(c.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function Hl(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function Ut(e){let t=e.showColors?$l:Vl,r;return r=Ul(e,t),Ql(r,t)}var Bi=oe(Jr());function $i(e,t,r){let n=Vi(e),i=Jl(n),o=Gl(i);o?jt(o,t,r):t.addErrorMessage(()=>"Unknown error")}function Vi(e){return e.errors.flatMap(t=>t.kind==="Union"?Vi(t):[t])}function Jl(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:Wl(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function Wl(e,t){return[...new Set(e.concat(t))]}function Gl(e){return Hr(e,(t,r)=>{let n=Ni(t),i=Ni(r);return n!==i?n-i:Li(t)-Li(r)})}function Ni(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Li(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var D=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};Ui();var Te=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};qi();var Bt=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};var Qt=e=>e,Ht={bold:Qt,red:Qt,green:Qt,dim:Qt,enabled:!1},ji={bold:$,red:se,green:Ge,dim:Je,enabled:!0},Pe={write(e){e.writeLine(",")}};var B=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};var ee=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var Ae=class extends ee{items=[];addItem(t){return this.items.push(new Bt(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new B("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(Pe,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var ve=class e extends ee{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof Ae&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new B("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(Pe,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};var C=class extends ee{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new B(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};var rt=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(Pe,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function jt(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Kl(e,t);break;case"IncludeOnScalar":zl(e,t);break;case"EmptySelection":Zl(e,t,r);break;case"UnknownSelectionField":tc(e,t);break;case"InvalidSelectionValue":rc(e,t);break;case"UnknownArgument":nc(e,t);break;case"UnknownInputField":ic(e,t);break;case"RequiredArgumentMissing":oc(e,t);break;case"InvalidArgumentType":sc(e,t);break;case"InvalidArgumentValue":ac(e,t);break;case"ValueTooLarge":lc(e,t);break;case"SomeFieldsMissing":cc(e,t);break;case"TooManyFieldsGiven":uc(e,t);break;case"Union":$i(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function Kl(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function zl(e,t){let[r,n]=Se(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new D(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${nt(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function Zl(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){Xl(e,t,i);return}if(n.hasField("select")){Yl(e,t);return}}if(r?.[Y(e.outputType.name)]){ec(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Xl(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new D(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Yl(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Ji(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${nt(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function ec(e,t){let r=new rt;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new D("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=Se(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let l=a?.value.asObject()??new ve;l.addSuggestion(n),a.value=l}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function tc(e,t){let r=Wi(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":Ji(n,e.outputType);break;case"include":pc(n,e.outputType);break;case"omit":dc(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(nt(n)),i.join(" ")})}function rc(e,t){let r=Wi(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function nc(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),mc(n,e.arguments)),t.addErrorMessage(i=>Qi(i,r,e.arguments.map(o=>o.name)))}function ic(e,t){let[r,n]=Se(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Gi(o,e.inputType)}t.addErrorMessage(o=>Qi(o,n,e.inputType.fields.map(s=>s.name)))}function Qi(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=gc(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(nt(e)),n.join(" ")}function oc(e,t){let r;t.addErrorMessage(l=>r?.value instanceof C&&r.value.text==="null"?`Argument \`${l.green(o)}\` must not be ${l.red("null")}.`:`Argument \`${l.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=Se(e.argumentPath),s=new rt,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let l of e.inputTypes[0].fields)s.addField(l.name,l.typeNames.join(" | "));a.addSuggestion(new D(o,s).makeRequired())}else{let l=e.inputTypes.map(Hi).join(" | ");a.addSuggestion(new D(o,l).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,l]=Se(e.dependentArgumentPath);t.addErrorMessage(c=>`Argument \`${c.green(o)}\` is required because argument \`${c.green(l)}\` was provided.`)}}}function Hi(e){return e.kind==="list"?`${Hi(e.elementType)}[]`:e.name}function sc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Jt("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function ac(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Jt("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function lc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof C&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function cc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Gi(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Jt("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(nt(i)),o.join(" ")})}function uc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Jt("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function Ji(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new D(r.name,"true"))}function pc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new D(r.name,"true"))}function dc(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new D(r.name,"true"))}function mc(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new D(r.name,r.typeNames.join(" | ")))}function Wi(e,t){let[r,n]=Se(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),l=o?.getField(n);return o&&l?{parentKind:"select",parent:o,field:l,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"include",field:l,parent:s,fieldName:n}:(l=a?.getField(n),a&&l?{parentKind:"omit",field:l,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Gi(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new D(r.name,r.typeNames.join(" | ")))}function Se(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function nt({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Jt(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var fc=3;function gc(e,t){let r=1/0,n;for(let i of t){let o=(0,Bi.default)(e,i);o>fc||o<r&&(r=o,n=i)}return n}import{ObjectEnumValue as yc}from"@prisma/client-runtime-utils";var it=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function Ce(e){return e instanceof it}var Ki=": ",Wt=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Ki.length}write(t){let r=new B(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(Ki).write(this.value)}};var Gr=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function Re(e){return new Gr(zi(e))}function zi(e){let t=new ve;for(let[r,n]of Object.entries(e)){let i=new Wt(r,Zi(n));t.addField(i)}return t}function Zi(e){if(typeof e=="string")return new C(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new C(String(e));if(typeof e=="bigint")return new C(`${e}n`);if(e===null)return new C("null");if(e===void 0)return new C("undefined");if(be(e))return new C(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new C(`Buffer.alloc(${e.byteLength})`):new C(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Lt(e)?e.toISOString():"Invalid Date";return new C(`new Date("${t}")`)}return e instanceof yc?new C(`Prisma.${e._getName()}`):Ce(e)?new C(`prisma.${Y(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?hc(e):typeof e=="object"?zi(e):new C(Object.prototype.toString.call(e))}function hc(e){let t=new Ae;for(let r of e)t.addItem(Zi(r));return t}function Gt(e,t){let r=t==="pretty"?ji:Ht,n=e.renderAllMessages(r),i=new Te(0,{colors:r}).write(e).toString();return{message:n,args:i}}function Kt({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=Re(e);for(let p of t)jt(p,a,s);let{message:l,args:c}=Gt(a,r),u=Ut({message:l,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:c});throw new wc(u,{clientVersion:o})}function Q(e){return e.replace(/^./,t=>t.toLowerCase())}function Yi(e,t,r){let n=Q(r);return!t.result||!(t.result.$allModels||t.result[n])?e:xc({...e,...Xi(t.name,e,t.result.$allModels),...Xi(t.name,e,t.result[n])})}function xc(e){let t=new j,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Nt(e,n=>({...n,needs:r(n.name,new Set)}))}function Xi(e,t,r){return r?Nt(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:bc(t,o,i)})):{}}function bc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function eo(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function to(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var zt=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new j;modelExtensionsCache=new j;queryCallbacksCache=new j;clientExtensions=He(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=He(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>Yi(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=Q(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},ke=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new zt(t))}isEmpty(){return this.head===void 0}append(t){return new e(new zt(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};var Zt=class{constructor(t){this.name=t}};function ro(e){return e instanceof Zt}function Ec(e){return new Zt(e)}var no=Symbol(),ot=class{constructor(t){if(t!==no)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?Kr:t}},Kr=new ot(no);function H(e){return e instanceof ot}var Sc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},io="explicitly `undefined` values are not allowed";function Zr({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=ke.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:l,previewFeatures:c,globalOmit:u}){let p=new zr({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:Sc[t],query:st(r,p)}}function st({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:so(r,n),selection:Cc(e,t,i,n)}}function Cc(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Ic(e,n)):Rc(n,t,r)}function Rc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&kc(n,t,e),Oc(n,r,e),n}function kc(e,t,r){for(let[n,i]of Object.entries(t)){if(H(i))continue;let o=r.nestSelection(n);if(Xr(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=st(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=st(i,o)}}function Oc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=to(i,n);for(let[s,a]of Object.entries(o)){if(H(a))continue;Xr(a,r.nestSelection(s));let l=r.findField(s);n?.[s]&&!l||(e[s]=!a)}}function Ic(e,t){let r={},n=t.getComputedFields(),i=eo(e,n);for(let[o,s]of Object.entries(i)){if(H(s))continue;let a=t.nestSelection(o);Xr(s,a);let l=t.findField(o);if(!(n?.[o]&&!l)){if(s===!1||s===void 0||H(s)){r[o]=!1;continue}if(s===!0){l?.kind==="object"?r[o]=st({},a):r[o]=!0;continue}r[o]=st(s,a)}}return r}function oo(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(xe(e)){if(Lt(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(ro(e))return{$type:"Param",value:e.name};if(Ce(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return Fc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:Buffer.from(r,n,i).toString("base64")}}if(Mc(e))return e.values;if(be(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof vc){if(!Pc(e)&&!Ac(e)&&!Tc(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(Dc(e))return e.toJSON();if(typeof e=="object")return so(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function so(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);H(i)||(i!==void 0?r[n]=oo(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:io}))}return r}function Fc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||H(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(oo(o,i))}return r}function Mc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function Dc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function Xr(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:io})}var zr=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){Kt({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Y(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:G(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function _c(e,t){let r=He(()=>Nc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Nc(e){return{datamodel:{models:Yr(e.models),enums:Yr(e.enums),types:Yr(e.types)}}}function Yr(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}var en=new WeakMap,Xt="$$PrismaTypedSql",at=class{constructor(t,r){en.set(this,{sql:t,values:r}),Object.defineProperty(this,Xt,{value:Xt})}get sql(){return en.get(this).sql}get values(){return en.get(this).values}};function Lc(e){return(...t)=>new at(e,t)}function Yt(e){return e!=null&&e[Xt]===Xt}import{Sql as kd}from"@prisma/client-runtime-utils";import{AsyncResource as Od}from"node:async_hooks";import{EventEmitter as Id}from"node:events";function lt(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function O(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function le(e){let t=new j;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}var er={enumerable:!0,configurable:!0,writable:!0};function tr(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>er,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var ao=Symbol.for("nodejs.util.inspect.custom");function q(e,t){let r=$c(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=lo(Reflect.ownKeys(o),r),a=lo(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let l=r.get(s);return l?l.getPropertyDescriptor?{...er,...l?.getPropertyDescriptor(s)}:er:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[ao]=function(){let o={...this};return delete o[ao],o},i}function $c(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function lo(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function Oe(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function co(e){if(e===void 0)return"";let t=Re(e);return new Te(0,{colors:Ht}).write(t).toString()}var ct="<unknown>";function uo(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=Uc(n)||Bc(n)||Jc(n)||zc(n)||Gc(n);return i&&r.push(i),r},[])}var Vc=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qc=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Uc(e){var t=Vc.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=qc.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||ct,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var jc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Bc(e){var t=jc.exec(e);return t?{file:t[2],methodName:t[1]||ct,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Qc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Hc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Jc(e){var t=Qc.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Hc.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||ct,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Wc=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Gc(e){var t=Wc.exec(e);return t?{file:t[3],methodName:t[1]||ct,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Kc=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function zc(e){var t=Kc.exec(e);return t?{file:t[2],methodName:t[1]||ct,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var tn=class{getLocation(){return null}},rn=class{_error;constructor(){this._error=new Error}getLocation(){let t=this._error.stack;if(!t)return null;let n=uo(t).find(i=>{if(!i.file)return!1;let o=Br(i.file);return o!=="<anonymous>"&&!o.includes("@prisma")&&!o.includes("/packages/client/src/runtime/")&&!o.endsWith("/runtime/client.js")&&!o.startsWith("internal/")&&!i.methodName.includes("new ")&&!i.methodName.includes("getCallSite")&&!i.methodName.includes("Proxy.")&&i.methodName.split(".").length<4});return!n||!n.file?null:{fileName:n.file,lineNumber:n.lineNumber,columnNumber:n.column}}};function te(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new tn:new rn}var po={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Ie(e={}){let t=Xc(e);return Object.entries(t).reduce((n,[i,o])=>(po[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function Xc(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function rr(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function mo(e,t){let r=rr(e);return t({action:"aggregate",unpacker:r,argsMapper:Ie})(e)}function Yc(e={}){let{select:t,...r}=e;return typeof t=="object"?Ie({...r,_count:t}):Ie({...r,_count:{_all:!0}})}function eu(e={}){return typeof e.select=="object"?t=>rr(e)(t)._count:t=>rr(e)(t)._count._all}function fo(e,t){return t({action:"count",unpacker:eu(e),argsMapper:Yc})(e)}function tu(e={}){let t=Ie(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function ru(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function go(e,t){return t({action:"groupBy",unpacker:ru(e),argsMapper:tu})(e)}function yo(e,t,r){if(t==="aggregate")return n=>mo(n,r);if(t==="count")return n=>fo(n,r);if(t==="groupBy")return n=>go(n,r)}function ho(e,t){let r=t.fields.filter(i=>!i.relationName),n=ai(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new it(e,o,s.type,s.isList,s.kind==="enum")},...tr(Object.keys(n))})}var wo=e=>Array.isArray(e)?e:e.split("."),nn=(e,t)=>wo(t).reduce((r,n)=>r&&r[n],e),xo=(e,t,r)=>wo(t).reduceRight((n,i,o,s)=>Object.assign({},nn(e,s.slice(0,o)),{[i]:n}),r);function nu(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function iu(e,t,r){return t===void 0?e??{}:xo(t,r,e||!0)}function on(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((l,c)=>({...l,[c.name]:c}),{});return l=>{let c=te(e._errorFormat),u=nu(n,i),p=iu(l,o,u),y=r({dataPath:u,callsite:c})(p),g=ou(e,t);return new Proxy(y,{get(x,b){if(!g.includes(b))return x[b];let Z=[a[b].type,r,b],S=[u,p];return on(e,...Z,...S)},...tr([...g,...Object.getOwnPropertyNames(y)])})}}function ou(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var su=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],au=["aggregate","count","groupBy"];function sn(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[lu(e,t),uu(e,t),lt(r),O("name",()=>t),O("$name",()=>t),O("$parent",()=>e._appliedParent)];return q({},n)}function lu(e,t){let r=Q(t),n=Object.keys(Ee).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>l=>{let c=te(e._errorFormat);return e._createPrismaPromise(u=>{let p={args:l,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:u,callsite:c};return e._request({...p,...a})},{action:o,args:l,model:t})};return su.includes(o)?on(e,t,s):cu(i)?yo(e,i,s):s({})}}}function cu(e){return au.includes(e)}function uu(e,t){return le(O("fields",()=>{let r=e._runtimeDataModel.models[t];return ho(t,r)}))}function bo(e){return e.replace(/^./,t=>t.toUpperCase())}var an=Symbol();function ut(e){let t=[pu(e),du(e),O(an,()=>e),O("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(lt(r)),q(e,t)}function pu(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function du(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Q),n=[...new Set(t.concat(r))];return le({getKeys(){return n},getPropertyValue(i){let o=bo(i);if(e._runtimeDataModel.models[o]!==void 0)return sn(e,o);if(e._runtimeDataModel.models[i]!==void 0)return sn(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function Eo(e){return e[an]?e[an]:e}function To(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return ut(t)}function Po({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let l of Object.values(o)){if(n){if(n[l.name])continue;let c=l.needs.filter(u=>n[u]);c.length>0&&a.push(Oe(c))}else if(r){if(!r[l.name])continue;let c=l.needs.filter(u=>!r[u]);c.length>0&&a.push(Oe(c))}mu(e,l.needs)&&s.push(fu(l,q(e,s)))}return s.length>0||a.length>0?q(e,[...s,...a]):e}function mu(e,t){return t.every(r=>Qr(e,r))}function fu(e,t){return le(O(e.name,()=>e.compute(t)))}function nr({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=nr({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&Ao({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Ao({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function Ao({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||H(s))continue;let l=n.models[r].fields.find(u=>u.name===o);if(!l||l.kind!=="object"||!l.relationName)continue;let c=typeof s=="object"?s:{};t[o]=nr({visitor:i,result:t[o],args:c,modelName:l.type,runtimeDataModel:n})}}function vo({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:nr({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,l,c)=>{let u=Q(l);return Po({result:a,modelName:u,select:c.select,omit:c.select?void 0:{...o?.[u],...c.omit},extensions:n})}})}import{Decimal as yu,ObjectEnumValue as hu,Sql as Co}from"@prisma/client-runtime-utils";var gu=["$connect","$disconnect","$on","$transaction","$extends"],So=gu;function Ro(e){if(e instanceof Co)return wu(e);if(Yt(e))return xu(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=pt(e[n]);return r}let t={};for(let r in e)t[r]=pt(e[r]);return t}function wu(e){return new Co(e.strings,e.values)}function xu(e){return new at(e.sql,e.values)}function pt(e){if(typeof e!="object"||e==null||e instanceof hu||Ce(e))return e;if(be(e))return new yu(e.toFixed());if(xe(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=pt(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:pt(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=pt(e[r]);return t}G(e,"Unknown value")}function Oo(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:Ro(t.args??{}),__internalParams:t,query:(s,a=t)=>{let l=a.customDataProxyFetch;return a.customDataProxyFetch=Do(o,l),a.args=s,Oo(e,a,r,n+1)}})})}function Io(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return Oo(e,t,s)}function Fo(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Mo(r,n,0,e):e(r)}}function Mo(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let l=a.customDataProxyFetch;return a.customDataProxyFetch=Do(i,l),Mo(a,t,r+1,n)}})}var ko=e=>e;function Do(e=ko,t=ko){return r=>e(t(r))}import{Decimal as bu}from"@prisma/client-runtime-utils";import{Decimal as ir}from"@prisma/client-runtime-utils";function w(e,t){throw new Error(t)}function ln(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>ln(e[r],t[r]))}function Fe(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if(ir.isDecimal(e[o])||ir.isDecimal(t[o])){let s=_o(e[o]),a=_o(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=No(e[o]),a=No(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Lo(e[o])?.getTime()===Lo(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return $o(e[o])===$o(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return Vo(e[o])===Vo(t[o])}return ln(e[o],t[o])})}function _o(e){return ir.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new ir(e):void 0}function No(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?Buffer.from(e,"base64"):void 0}function Lo(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function $o(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function Vo(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function dt(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function Eu(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Tu(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function ce(e){return e===null?e:Array.isArray(e)?e.map(ce):typeof e=="object"?Eu(e)?Pu(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Tu(e,ce):e}function Pu({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new bu(t);case"Json":return JSON.parse(t);default:w(t,"Unknown tagged value")}}function or(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}var d={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var I=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function Me(e){if(!or(e))throw e;let t=Au(e),r=qo(e);throw!t||!r?e:new I(r,t,{driverAdapterError:e})}function un(e){throw or(e)?new I(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??qo(e)}\``,"P2010",{driverAdapterError:e}):e}function Au(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:w(e.cause,`Unknown error: ${e.cause}`)}}function qo(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${cn(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${cn(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${cn(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:w(e.cause,`Unknown error: ${e.cause}`)}}function cn(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function Uo(e,t){let r=e.map(i=>t.keys.reduce((o,s)=>(o[s]=ce(i[s]),o),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let o=r.findIndex(s=>Fe(s,i));if(o===-1)return t.expectNonEmpty?new I("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let s=Object.entries(e[o]).filter(([a])=>n.has(a));return Object.fromEntries(s)}})}import{Decimal as vu}from"@prisma/client-runtime-utils";var P=class extends Error{name="DataMapperError"};function Bo(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new P(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return dn(e,t.fields,r,t.skipNulls);case"field":return pn(e,"<result>",t.fieldType,r);default:w(t,`Invalid data mapping type: '${t.type}'`)}}function dn(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>jo(o,t,r))}if(typeof e=="object")return jo(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new P("Expected an array or object, got a string that is not valid JSON",{cause:o})}return dn(i,t,r,n)}throw new P(`Expected an array or an object, got: ${typeof e}`)}function jo(e,t,r){if(typeof e!="object")throw new P(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of Object.entries(t))switch(o.type){case"affectedRows":throw new P(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{if(o.serializedName!==null&&!Object.hasOwn(e,o.serializedName))throw new P(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let s=o.serializedName!==null?e[o.serializedName]:e;n[i]=dn(s,o.fields,r,o.skipNulls);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=Su(e[s],s,o.fieldType,r);else throw new P(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:w(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function Su(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>pn(o,`${t}[${s}]`,r,n)):pn(e,t,r,n)}function pn(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new P(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new P(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new P(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new P(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new P(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new P(`Expected a float in column '${t}', got string: ${e}`);return i}throw new P(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new P(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)){for(let i of e)if(i!==0)return!0;return!1}throw new P(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!vu.isDecimal(e))throw new P(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:Ru(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new P(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:dt(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new P(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new P(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:Buffer.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:Buffer.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:Buffer.from(e).toString("base64")};throw new P(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:w(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new P(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new P(`Value '${e}' not found in enum '${r.name}'`);return o}default:w(r,`DataMapper: Unknown result type: ${r.type}`)}}var Cu=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Ru(e){let t=Cu.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}var mt;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(mt||(mt={}));function ku(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:w(e,`Unknown provider: ${e}`)}}async function sr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){return await t.runInChildSpan({name:"db_query",kind:mt.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":ku(r)}},async()=>{let o=new Date,s=performance.now(),a=await i(),l=performance.now();return n?.({timestamp:o,duration:l-s,query:e.sql,params:e.args}),a})}function ue(e,t){var r="000000000"+e;return r.substr(r.length-t)}import Ou from"node:os";function Iu(){try{return Ou.hostname()}catch{return process.env._CLUSTER_NETWORK_NAME_||process.env.COMPUTERNAME||"hostname"}}var Qo=2,Fu=ue(process.pid.toString(36),Qo),Ho=Iu(),Mu=Ho.length,Du=ue(Ho.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+Mu+36).toString(36),Qo);function mn(){return Fu+Du}function ar(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function fn(e){let n=Math.pow(36,4),i=0;function o(){return ue((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var l="c",c=new Date().getTime().toString(36),u=ue(s().toString(36),4),p=e(),y=o()+o();return l+c+u+p+y}return a.fingerprint=e,a.isCuid=ar,a}var _u=fn(mn);var Jo=_u;var Qs=oe(Ns());import{webcrypto as $s}from"node:crypto";var Ls="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Ep=128,de,Ne;function Tp(e){!de||de.length<e?(de=Buffer.allocUnsafe(e*Ep),$s.getRandomValues(de),Ne=0):Ne+e>de.length&&($s.getRandomValues(de),Ne=0),Ne+=e}function Pn(e=21){Tp(e|=0);let t="";for(let r=Ne-e;r<Ne;r++)t+=Ls[de[r]&63];return t}import pr from"node:crypto";var qs="0123456789ABCDEFGHJKMNPQRSTVWXYZ",xt=32;var Pp=16,Us=10,Vs=0xffffffffffff;var me;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(me||(me={}));var fe=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Ap(e){let t=Math.floor(e()*xt);return t===xt&&(t=xt-1),qs.charAt(t)}function vp(e){let t=Sp(),r=t&&(t.crypto||t.msCrypto)||(typeof pr<"u"?pr:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(pr?.randomBytes)return()=>pr.randomBytes(1).readUInt8()/255;throw new fe(me.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Sp(){return kp()?self:typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:null}function Cp(e,t){let r="";for(;e>0;e--)r=Ap(t)+r;return r}function Rp(e,t=Us){if(isNaN(e))throw new fe(me.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>Vs)throw new fe(me.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${Vs}: ${e}`);if(e<0)throw new fe(me.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new fe(me.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%xt,n=qs.charAt(r)+n,e=(e-r)/xt;return n}function kp(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function js(e,t){let r=t||vp(),n=!e||isNaN(e)?Date.now():e;return Rp(n,Us)+Cp(Pp,r)}var R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).slice(1));function dr(e,t=0){return(R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]).toLowerCase()}import{randomFillSync as Op}from"node:crypto";var fr=new Uint8Array(256),mr=fr.length;function Le(){return mr>fr.length-16&&(Op(fr),mr=0),fr.slice(mr,mr+=16)}import{randomUUID as Ip}from"node:crypto";var An={randomUUID:Ip};function Fp(e,t,r){if(An.randomUUID&&!t&&!e)return An.randomUUID();e=e||{};let n=e.random??e.rng?.()??Le();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return dr(n)}var vn=Fp;var Sn={};function Mp(e,t,r){let n;if(e)n=Bs(e.random??e.rng?.()??Le(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=Le();Dp(Sn,i,o),n=Bs(o,Sn.msecs,Sn.seq,t,r)}return t??dr(n)}function Dp(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function Bs(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var Cn=Mp;var gr=class{#t={};constructor(){this.register("uuid",new kn),this.register("cuid",new On),this.register("ulid",new In),this.register("nanoid",new Fn),this.register("product",new Mn)}snapshot(){return Object.create(this.#t,{now:{value:new Rn}})}register(t,r){this.#t[t]=r}},Rn=class{#t=new Date;generate(){return this.#t.toISOString()}},kn=class{generate(t){if(t===4)return vn();if(t===7)return Cn();throw new Error("Invalid UUID generator arguments")}},On=class{generate(t){if(t===1)return Jo();if(t===2)return(0,Qs.createId)();throw new Error("Invalid CUID generator arguments")}},In=class{generate(){return js()}},Fn=class{generate(t){if(typeof t=="number")return Pn(t);if(t===void 0)return Pn();throw new Error("Invalid Nanoid generator arguments")}},Mn=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};function yr(e,t){return e==null?e:typeof e=="string"?yr(JSON.parse(e),t):Array.isArray(e)?Np(e,t):_p(e,t)}function _p(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!Fe(e,i))return null}return Js(e,t.nested)}function Js(e,t){for(let[r,n]of Object.entries(t))e[r]=yr(e[r],n);return e}function Np(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=Lp(e,r)}return t.pagination&&(e=$p(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>Js(r,t.nested))}function Lp(e,t){let r=new Set,n=[];for(let i of e){let o=$e(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function $p(e,t,r){if(r===null)return Hs(e,t);let n=new Map;for(let o of e){let s=$e(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>Hs(o,t))}function Hs(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>Fe(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function $e(e,t){return JSON.stringify(t.map(r=>e[r]))}function Dn(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function _n(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function $n(e,t,r,n){let i=e.args.map(o=>U(o,t,r));switch(e.type){case"rawSql":return[Up(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?Bp(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new I("The query parameter limit supported by your database is exceeded.","P2029");return Vp(e.fragments,e.placeholderFormat,s,e.argTypes)});default:w(e.type,"Invalid query type")}}function U(e,t,r){for(;jp(e);)if(Dn(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(_n(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>U(s,t,r)))}else w(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>U(n,t,r))),e}function Vp(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let l of Ln(e,r,n)){if(i+=qp(l,t,o),l.type==="stringChunk")continue;let c=s.length,u=s.push(...Ws(l))-c;if(l.argType.arity==="tuple"){if(u%l.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${u} parameters for a tuple of arity ${l.argType.elements.length}.`);for(let p=0;p<u/l.argType.elements.length;p++)a.push(...l.argType.elements)}else for(let p=0;p<u;p++)a.push(l.argType)}return{sql:i,args:s,argTypes:a}}function qp(e,t,r){let n=e.type;switch(n){case"parameter":return Nn(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>Nn(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>Nn(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:w(n,"Invalid fragment type")}}function Nn(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function Up(e,t,r){return{sql:e,args:t,argTypes:r}}function jp(e){return Dn(e)||_n(e)}function*Ln(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*Ws(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function Bp(e,t,r){let n=0,i=0;for(let s of Ln(e,t,void 0)){let a=0;for(let l of Ws(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of Ln(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,l=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let c=r-(n-a);l=Qp(s.value,c)}else l=[s.value];o=o.flatMap(c=>l.map(u=>[...c,u]));break}case"parameterTupleList":{let a=s.value.reduce((p,y)=>p+y.length,0),l=[],c=[],u=0;for(let p of s.value)r&&o.length===1&&a===i&&c.length>0&&n-a+u+p.length>r&&(l.push(c),c=[],u=0),c.push(p),u+=p.length;c.length>0&&l.push(c),o=o.flatMap(p=>l.map(y=>[...p,y]));break}}return o}function Qp(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function Gs(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function Ks(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>Hp(t)),rows:e.rows.map(t=>t.map((r,n)=>Ve(r,e.columnTypes[n])))}}function Ve(e,t){if(e===null)return null;switch(t){case d.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case d.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>Ve(r,d.Int32));case d.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case d.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>Ve(r,d.Int64));case d.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case d.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>Ve(r,d.Json));case d.Bytes:if(Array.isArray(e))return new Uint8Array(e);throw new Error(`Cannot serialize value of type ${typeof e} as Bytes`);case d.BytesArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BytesArray`);return e.map(r=>Ve(r,d.Bytes));case d.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case d.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>Ve(r,d.Boolean));default:return e}}function Hp(e){switch(e){case d.Int32:return"int";case d.Int64:return"bigint";case d.Float:return"float";case d.Double:return"double";case d.Text:return"string";case d.Enum:return"enum";case d.Bytes:return"bytes";case d.Boolean:return"bool";case d.Character:return"char";case d.Numeric:return"decimal";case d.Json:return"json";case d.Uuid:return"uuid";case d.DateTime:return"datetime";case d.Date:return"date";case d.Time:return"time";case d.Int32Array:return"int-array";case d.Int64Array:return"bigint-array";case d.FloatArray:return"float-array";case d.DoubleArray:return"double-array";case d.TextArray:return"string-array";case d.EnumArray:return"string-array";case d.BytesArray:return"bytes-array";case d.BooleanArray:return"bool-array";case d.CharacterArray:return"char-array";case d.NumericArray:return"decimal-array";case d.JsonArray:return"json-array";case d.UuidArray:return"uuid-array";case d.DateTimeArray:return"datetime-array";case d.DateArray:return"date-array";case d.TimeArray:return"time-array";case d.UnknownNumber:return"unknown";case d.Set:return"string";default:w(e,`Unexpected column type: ${e}`)}}function zs(e,t,r){if(!t.every(n=>Vn(e,n))){let n=Jp(e,r),i=Wp(r);throw new I(n,i,r.context)}}function Vn(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:w(t,`Unknown rule type: ${t.type}`)}}function Jp(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:w(t,`Unknown error identifier: ${t}`)}}function Wp(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:w(e,`Unknown error identifier: ${e}`)}}var bt=class e{#t;#e;#r;#n=new gr;#s;#i;#a;#o;#c;constructor({transactionManager:t,placeholderValues:r,onQuery:n,tracingHelper:i,serializer:o,rawSerializer:s,provider:a,connectionInfo:l}){this.#t=t,this.#e=r,this.#r=n,this.#s=i,this.#i=o,this.#a=s??o,this.#o=a,this.#c=l}static forSql(t){return new e({transactionManager:t.transactionManager,placeholderValues:t.placeholderValues,onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:Gs,rawSerializer:Ks,provider:t.provider,connectionInfo:t.connectionInfo})}async run(t,r){let{value:n}=await this.interpretNode(t,r,this.#e,this.#n.snapshot()).catch(i=>Me(i));return n}async interpretNode(t,r,n,i){switch(t.type){case"value":return{value:U(t.args,n,i)};case"seq":{let o;for(let s of t.args)o=await this.interpretNode(s,r,n,i);return o??{value:void 0}}case"get":return{value:n[t.args.name]};case"let":{let o=Object.create(n);for(let s of t.args.bindings){let{value:a}=await this.interpretNode(s.expr,r,o,i);o[s.name]=a}return this.interpretNode(t.args.expr,r,o,i)}case"getFirstNonEmpty":{for(let o of t.args.names){let s=n[o];if(!Zs(s))return{value:s}}return{value:[]}}case"concat":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>s.concat(qn(a)),[]):[]}}case"sum":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>J(s)+J(a)):0}}case"execute":{let o=$n(t.args,n,i,this.#l()),s=0;for(let a of o)s+=await this.#u(a,r,()=>r.executeRaw(a).catch(l=>t.args.type==="rawSql"?un(l):Me(l)));return{value:s}}case"query":{let o=$n(t.args,n,i,this.#l()),s;for(let a of o){let l=await this.#u(a,r,()=>r.queryRaw(a).catch(c=>t.args.type==="rawSql"?un(c):Me(c)));s===void 0?s=l:(s.rows.push(...l.rows),s.lastInsertId=l.lastInsertId)}return{value:t.args.type==="rawSql"?this.#a(s):this.#i(s),lastInsertId:s?.lastInsertId}}case"reverse":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);return{value:Array.isArray(o)?o.reverse():o,lastInsertId:s}}case"unique":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(!Array.isArray(o))return{value:o,lastInsertId:s};if(o.length>1)throw new Error(`Expected zero or one element, got ${o.length}`);return{value:o[0]??null,lastInsertId:s}}case"required":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(Zs(o))throw new Error("Required value is empty");return{value:o,lastInsertId:s}}case"mapField":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.records,r,n,i);return{value:Xs(o,t.args.field),lastInsertId:s}}case"join":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.parent,r,n,i);if(o===null)return{value:null,lastInsertId:s};let a=await Promise.all(t.args.children.map(async l=>({joinExpr:l,childRecords:(await this.interpretNode(l.child,r,n,i)).value})));return{value:Gp(o,a),lastInsertId:s}}case"transaction":{if(!this.#t.enabled)return this.interpretNode(t.args,r,n,i);let o=this.#t.manager,s=await o.startInternalTransaction(),a=await o.getTransaction(s,"query");try{let l=await this.interpretNode(t.args,a,n,i);return await o.commitTransaction(s.id),l}catch(l){throw await o.rollbackTransaction(s.id),l}}case"dataMap":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:Bo(o,t.args.structure,t.args.enums),lastInsertId:s}}case"validate":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return zs(o,t.args.rules,t.args),{value:o,lastInsertId:s}}case"if":{let{value:o}=await this.interpretNode(t.args.value,r,n,i);return Vn(o,t.args.rule)?await this.interpretNode(t.args.then,r,n,i):await this.interpretNode(t.args.else,r,n,i)}case"unit":return{value:void 0};case"diff":{let{value:o}=await this.interpretNode(t.args.from,r,n,i),{value:s}=await this.interpretNode(t.args.to,r,n,i),a=c=>c!==null?$e(hr(c),t.args.fields):null,l=new Set(qn(s).map(a));return{value:qn(o).filter(c=>!l.has(a(c)))}}case"process":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:yr(o,t.args.operations),lastInsertId:s}}case"initializeRecord":{let{lastInsertId:o}=await this.interpretNode(t.args.expr,r,n,i),s={};for(let[a,l]of Object.entries(t.args.fields))s[a]=Kp(l,o,n,i);return{value:s,lastInsertId:o}}case"mapRecord":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i),a=o===null?{}:hr(o);for(let[l,c]of Object.entries(t.args.fields))a[l]=zp(c,a[l],n,i);return{value:a,lastInsertId:s}}default:w(t,`Unexpected node type: ${t.type}`)}}#l(){return this.#c?.maxBindValues!==void 0?this.#c.maxBindValues:this.#p()}#p(){if(this.#o!==void 0)switch(this.#o){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:w(this.#o,`Unexpected provider: ${this.#o}`)}}#u(t,r,n){return sr({query:t,execute:n,provider:this.#o??r.provider,tracingHelper:this.#s,onQuery:this.#r})}};function Zs(e){return Array.isArray(e)?e.length===0:e==null}function qn(e){return Array.isArray(e)?e:[e]}function J(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function hr(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function Xs(e,t){return Array.isArray(e)?e.map(r=>Xs(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function Gp(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let l=hr(a),c=$e(l,i);s[c]||(s[c]=[]),s[c].push(l),r.isRelationUnique?l[r.parentField]=null:l[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let l=$e(hr(a),o);for(let c of s[l]??[])r.isRelationUnique?c[r.parentField]=a:c[r.parentField].push(a)}}return e}function Kp(e,t,r,n){switch(e.type){case"value":return U(e.value,r,n);case"lastInsertId":return t;default:w(e,`Unexpected field initializer type: ${e.type}`)}}function zp(e,t,r,n){switch(e.type){case"set":return U(e.value,r,n);case"add":return J(t)+J(U(e.value,r,n));case"subtract":return J(t)-J(U(e.value,r,n));case"multiply":return J(t)*J(U(e.value,r,n));case"divide":{let i=J(t),o=J(U(e.value,r,n));return o===0?null:i/o}default:w(e,`Unexpected field operation type: ${e.type}`)}}async function Zp(){return globalThis.crypto??await import("node:crypto")}async function Ys(){return(await Zp()).randomUUID()}var L=class extends I{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},Et=class extends L{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},wr=class extends L{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},xr=class extends L{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},br=class extends L{constructor(){super("Unable to start a transaction in the given time.")}},Er=class extends L{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},qe=class extends L{constructor(t){super(`Internal Consistency Error: ${t}`)}},Tr=class extends L{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var Xp=100,Tt=k("prisma:client:transactionManager"),Yp=()=>({sql:"COMMIT",args:[],argTypes:[]}),ed=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),td=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),rd=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),Pt=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#t;#e;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#t=i,this.#e=o}async startInternalTransaction(t){let r=t!==void 0?this.#a(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async startTransaction(t){let r=t!==void 0?this.#a(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async#r(t){let r={id:await Ys(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0};this.transactions.set(r.id,r);let n=!1,i=ea(()=>n=!0,t.maxWait);switch(i?.unref?.(),r.transaction=await this.driverAdapter.startTransaction(t.isolationLevel).catch(Me),clearTimeout(i),r.status){case"waiting":if(n)throw await this.#i(r,"timed_out"),new br;return r.status="running",r.timer=this.#s(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new qe(`Transaction in invalid state ${r.status} although it just finished startup.`);default:w(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#n(t,"commit");await this.#i(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#n(t,"rollback");await this.#i(r,"rolled_back")})}async getTransaction(t,r){let n=this.#n(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#n(t.id,r)),!n.transaction)throw new Et;return n.transaction}#n(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(Tt("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new qe("Active transaction found in closed transactions list.");case"committed":throw new wr(r);case"rolled_back":throw new xr(r);case"timed_out":throw new Er(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw Tt("Transaction not found.",t),new Et}if(["committed","rolled_back","timed_out"].includes(n.status))throw new qe("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#i(t,"rolled_back")))}#s(t,r){let n=Date.now(),i=ea(async()=>{Tt("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#i(o,"timed_out"):Tt("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#i(t,r){let n=async()=>{Tt("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#o(td(),t.transaction,()=>t.transaction.commit());else{let i=Yp();await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#o(rd(),t.transaction,()=>t.transaction.rollback());else{let i=ed();try{await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>Xp&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#n(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#a(t){if(!t.timeout)throw new L("timeout is required");if(!t.maxWait)throw new L("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new Tr(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#o(t,r,n){return sr({query:t,execute:n,provider:this.#e??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#t})}};function ea(e,t){return t!==void 0?setTimeout(e,t):void 0}import{PrismaClientInitializationError as Qn,PrismaClientKnownRequestError as Hn,PrismaClientRustPanicError as vt,PrismaClientUnknownRequestError as ga}from"@prisma/client-runtime-utils";var Pr="7.0.1";function ta(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function ra(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function na(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var ia=oe(Ri());function oa({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,ia.default)({user:t,repo:r,template:n,title:e,body:i})}function sa({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=gi(6e3-(s?.length??0)),l=na(we(a)),c=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=we(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${c}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?ra(s):""}
\`\`\`
`),p=oa({title:r,body:u});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${We(p)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}var Ar=class e{#t;#e;#r;#n;constructor(t,r,n){this.#t=t,this.#e=r,this.#r=n,this.#n=r.getConnectionInfo?.()}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new Pt({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#e.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i}){let o=n?await this.#r.getTransaction(n,i!==void 0?"batch query":"query"):this.#e;return await bt.forSql({transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#r},placeholderValues:r,onQuery:this.#t.onQuery,tracingHelper:this.#t.tracingHelper,provider:this.#t.provider,connectionInfo:this.#n}).run(t,o)}async startTransaction(t){return{...await this.#r.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#r.commitTransaction(t.id)}async rollbackTransaction(t){await this.#r.rollbackTransaction(t.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#e.dispose()}}apiKey(){return null}};import{PrismaClientKnownRequestError as ad}from"@prisma/client-runtime-utils";var vr=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function aa(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!vr.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!vr.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!vr.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!vr.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!id(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function id(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function la(e,t){let r=(e||"").split(";").filter(l=>typeof l=="string"&&!!l.trim()),n=r.shift()||"",i=od(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let l of r){let c=l.split("="),u=(c.shift()||"").trimStart().toLowerCase(),p=c.join("=");switch(u){case"expires":{a.expires=new Date(p);break}case"max-age":{a.maxAge=Number.parseInt(p,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=p;break}default:a[u]=p}}return a}function od(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}var Sr=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var Cr=class extends Sr{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};function ca(e,t){return{...e,isRetryable:t}}var ge=class extends Cr{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,ca(r,!1))}};tt(ge,"InvalidDatasourceError");function ua(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(l){let c=l.message;throw new ge(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${c}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==Mt)throw new ge("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new ge("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=qr(r)?"http:":"https:";process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}var pa=oe(xi()),Rr=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":pa.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#t();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#t(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};function sd(e){return e[0]*1e3+e[1]/1e6}function Un(e){return new Date(sd(e))}var da=k("prisma:client:clientEngine:remoteExecutor"),kr=class{#t;#e;#r;#n;#s;constructor(t){this.#t=t.clientVersion,this.#n=t.logEmitter,this.#s=t.tracingHelper;let{url:r,apiKey:n}=ua({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#r=new jn(r),this.#e=new Rr({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#i({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a}){return(await this.#i({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#i({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#i({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#i({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#e.apiKey}async#i({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#r.request({method:r,path:t,headers:this.#e.build(),body:n,fetch:i});s.ok||await this.#a(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#o(a.extensions),a}async#a(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new ad(s,{clientVersion:this.#t,code:n??"P6000",batchRequestIdx:r,meta:a})}#o(t){if(t.logs)for(let r of t.logs)this.#c(r);t.traces&&this.#s.dispatchEngineSpans(t.traces)}#c(t){switch(t.level){case"debug":case"trace":da(t);break;case"error":case"warn":case"info":{this.#n.emit(t.level,{timestamp:Un(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#n.emit("query",{query:t.attributes.query??"",timestamp:Un(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},jn=class{#t;#e;#r;constructor(t){this.#t=t,this.#e=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#t),a=this.#n(s);a&&(n.Cookie=a),this.#r&&(n["Accelerate-Query-Engine-Jwt"]=this.#r);let l=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return da(t,s,l.status,l.statusText),this.#r=l.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#s(s,l),l}#n(t){let r=[],n=new Date;for(let[i,o]of this.#e){if(o.expires&&o.expires<n){this.#e.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(aa(o.name,o.value))}return r.length>0?r.join("; "):void 0}#s(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=la(i),s=o.domain??t.hostname,a=o.path??"/",l=`${s}:${a}:${o.name}`;this.#e.set(l,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};import{PrismaClientInitializationError as ma}from"@prisma/client-runtime-utils";var Bn={},fa={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new ma("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||Bn[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new ma("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={"./query_compiler_bg.js":i},a=new WebAssembly.Instance(o,s),l=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),l(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Bn[e.activeProvider]=n)):n=Bn[e.activeProvider],await n}};var ld="P2038",At=k("prisma:client:clientEngine"),ha=globalThis;ha.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new vt(e,Pr)}};var St=class{name="ClientEngine";#t;#e={type:"disconnected"};#r;#n;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#s;constructor(t,r){if(t.accelerateUrl!==void 0)this.#n={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#n={remote:!1,driverAdapterFactory:t.adapter},At("Using driver adapter: %O",t.adapter);else throw new Qn("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,ld);this.#r=r??fa,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#s=n=>{this.logEmitter.emit("query",{...n,params:dt(n.params),target:"ClientEngine"})})}async#i(){switch(this.#e.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#a(),n=await this.#o(r)}catch(o){throw this.#e={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#e={type:"connected",engine:i},i});return this.#e={type:"connecting",promise:t},await t}case"connecting":return await this.#e.promise;case"connected":return this.#e.engine;case"disconnecting":return await this.#e.promise,await this.#i()}}async#a(){return this.#n.remote?new kr({clientVersion:this.config.clientVersion,accelerateUrl:this.#n.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper}):await Ar.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#d(this.config.transactionOptions.isolationLevel)},onQuery:this.#s,provider:this.config.activeProvider})}async#o(t){let r=this.#t;r===void 0&&(r=await this.#r.loadQueryCompiler(this.config),this.#t=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#u(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#c(o)}}#c(t){if(t instanceof vt)return t;try{let r=JSON.parse(t.message);return new Qn(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#l(t,r){if(t instanceof Qn)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new vt(ya(this,t.message,r),this.config.clientVersion);if(t instanceof I)return new Hn(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new ga(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#p(t){return t instanceof vt?t:typeof t.message=="string"&&typeof t.code=="string"?new Hn(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new ga(t.message,{clientVersion:this.config.clientVersion}):t}#u(t,r,n=!0){let i=ha.PRISMA_WASM_PANIC_REGISTRY.set_message,o;global.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(global.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#t=void 0,n&&this.stop().catch(s=>At("failed to disconnect:",s)),new vt(ya(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#i()}async stop(){switch(this.#e.type){case"disconnected":return;case"connecting":return await this.#e.promise,await this.stop();case"connected":{let t=this.#e.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#e={type:"disconnected"}}});return this.#e={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#e.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#i();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#d(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else G(t,"Invalid transaction action.")}catch(s){throw this.#l(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){At("sending request");let i=JSON.stringify(t),{executor:o,queryCompiler:s}=await this.#i().catch(l=>{throw this.#l(l,i)}),a;try{a=this.#u(()=>this.#m({queries:[t],execute:()=>s.compile(i)}))}catch(l){throw this.#p(l)}try{At("query plan created",a);let l={},c=await o.execute({plan:a,model:t.modelName,operation:t.action,placeholderValues:l,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch)});return At("query plan executed"),{data:{[t.action]:c}}}catch(l){throw this.#l(l,i)}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=JSON.stringify(ta(t,r)),{executor:s,queryCompiler:a}=await this.#i().catch(c=>{throw this.#l(c,o)}),l;try{l=this.#u(()=>this.#m({queries:t,execute:()=>a.compileBatch(o)}))}catch(c){throw this.#p(c)}try{let c;r?.kind==="itx"&&(c=r.options);let u={};switch(l.type){case"multi":{if(r?.kind!=="itx"){let g=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;c=await this.transaction("start",{},g)}let p=[],y=!1;for(let[g,x]of l.plans.entries())try{let b=await s.execute({plan:x,placeholderValues:u,model:t[g].modelName,operation:t[g].action,batchIndex:g,transaction:c,customFetch:n?.(globalThis.fetch)});p.push({data:{[t[g].action]:b}})}catch(b){p.push(b),y=!0;break}return c!==void 0&&r?.kind!=="itx"&&(y?await this.transaction("rollback",{},c):await this.transaction("commit",{},c)),p}case"compacted":{if(!t.every(g=>g.action===i))throw new Error("All queries in a batch must have the same action");let p=await s.execute({plan:l.plan,placeholderValues:u,model:t[0].modelName,operation:i,batchIndex:void 0,transaction:c,customFetch:n?.(globalThis.fetch)});return Uo(p,l).map(g=>({data:{[i]:g}}))}}}catch(c){throw this.#l(c,o)}}async apiKey(){let{executor:t}=await this.#i();return t.apiKey()}#d(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new Hn(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#m({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function ya(e,t,r){return sa({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function wa(e){return new St(e)}var xa=e=>({command:e});import{Sql as pd}from"@prisma/client-runtime-utils";var ba=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);import{Decimal as cd}from"@prisma/client-runtime-utils";function Ue(e){try{return Ea(e,"fast")}catch{return Ea(e,"slow")}}function Ea(e,t){return JSON.stringify(e.map(r=>Pa(r,t)))}function Pa(e,t){if(Array.isArray(e))return e.map(r=>Pa(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(xe(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(cd.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(ud(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?Aa(e):e}function ud(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function Aa(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(Ta);let t={};for(let r of Object.keys(e))t[r]=Ta(e[r]);return t}function Ta(e){return typeof e=="bigint"?e.toString():Aa(e)}var dd=/^(\s*alter\s)/i,va=k("prisma:client");function Jn(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&dd.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Wn=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Yt(r))n=r.sql,i={values:Ue(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:Ue(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:Ue(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:Ue(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=ba(r),i={values:Ue(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?va(`prisma.${e}(${n}, ${i.values})`):va(`prisma.${e}(${n})`),{query:n,parameters:i}},Sa={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new pd(t,r)}},Ca={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Gn(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Ra(r(s)):Ra(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function Ra(e){return typeof e.then=="function"?e:Promise.resolve(e)}var md=$r.split(".")[0],fd={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Kn=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(t){return this.getGlobalTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getGlobalTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getGlobalTracingHelper().runInChildSpan(t,r)}getGlobalTracingHelper(){let t=globalThis[`V${md}_PRISMA_INSTRUMENTATION`],r=globalThis.PRISMA_INSTRUMENTATION;return t?.helper??r?.helper??fd}};function ka(){return new Kn}function Oa(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}function Ia(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}import{hasBatchIndex as wd}from"@prisma/client-runtime-utils";function Fa(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(zn(e.query.arguments)),t.push(zn(e.query.selection)),t.join("")}function zn(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${zn(n)})`:r}).join(" ")})`}var gd={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function Zn(e){return gd[e]}var Or=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};import{Decimal as yd}from"@prisma/client-runtime-utils";function ye(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new yd(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>ye("bigint",r));case"bytes-array":return t.map(r=>ye("bytes",r));case"decimal-array":return t.map(r=>ye("decimal",r));case"datetime-array":return t.map(r=>ye("datetime",r));case"date-array":return t.map(r=>ye("date",r));case"time-array":return t.map(r=>ye("time",r));default:return t}}function Xn(e){let t=[],r=hd(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=ye(e.types[s],i[s]);t.push(o)}return t}function hd(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var xd=k("prisma:client:request_handler"),Fr=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new Or({batchLoader:Fo(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(p=>p.protocolQuery),l=this.client._tracingHelper.getTraceParent(s),c=n.some(p=>Zn(p.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:l,transaction:bd(o),containsWrite:c,customDataProxyFetch:i})).map((p,y)=>{if(p instanceof Error)return p;try{return this.mapQueryEngineResult(n[y],p)}catch(g){return g}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?Ma(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:Zn(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Fa(n.protocolQuery),batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(xd(t),Ed(t,i))throw t;if(t instanceof Yn&&Td(t)){let c=Da(t.meta);Kt({args:o,errors:[c],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let l=t.message;if(n&&(l=Ut({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:l})),l=this.sanitizeMessage(l),t.code){let c=s?{modelName:s,...t.meta}:t.meta;throw new Yn(l,{code:t.code,clientVersion:this.client._clientVersion,meta:c,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new Ir(l,this.client._clientVersion);if(t instanceof ei)throw new ei(l,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof je)throw new je(l,this.client._clientVersion);if(t instanceof Ir)throw new Ir(l,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?we(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(c=>c!=="select"&&c!=="include"),a=nn(o,s),l=i==="queryRaw"?Xn(a):ce(a);return n?n(l):l}get[Symbol.toStringTag](){return"RequestHandler"}};function bd(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:Ma(e)};G(e,"Unknown transaction kind")}}function Ma(e){return{id:e.id,payload:e.payload}}function Ed(e,t){return wd(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Td(e){return e.code==="P2009"||e.code==="P2012"}function Da(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(Da)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var _a=Pr;var qa=oe(Jr());var v=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};tt(v,"PrismaClientConstructorValidationError");var Na=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","__internal"],La=["pretty","colorless","minimal"],$a=["info","query","warn","error"],Pd={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new v(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new v('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new v(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!La.includes(e)){let t=Ct(e,La);throw new v(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new v(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!$a.includes(r)){let n=Ct(r,$a);throw new v(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=Ct(i,o);throw new v(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new v(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new v(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new v(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new v('"omit" option is expected to be an object.');if(e===null)throw new v('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=Sd(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let l=o.fields.find(c=>c.name===s);if(!l){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(l.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new v(Cd(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new v(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Ct(r,t);throw new v(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Ad(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new v('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new v('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function Ua(e,t){for(let[r,n]of Object.entries(e)){if(!Na.includes(r)){let i=Ct(r,Na);throw new v(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}Pd[r](n,t)}Ad(e)}function Ct(e,t){if(t.length===0||typeof e!="string")return"";let r=vd(e,t);return r?` Did you mean "${r}"?`:""}function vd(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,qa.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Sd(e,t){return Va(t.models,e)??Va(t.types,e)}function Va(e,t){let r=Object.keys(e).find(n=>Y(n)===t);if(r)return e[r]}function Cd(e,t){let r=Re(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=Gt(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}import{hasBatchIndex as Rd}from"@prisma/client-runtime-utils";function ja(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},l=c=>{o||(o=!0,r(c))};for(let c=0;c<e.length;c++)e[c].then(u=>{n[c]=u,a()},u=>{if(!Rd(u)){l(u);return}u.batchRequestIdx===c?l(u):(i||(i=u),a())})})}var Rt=k("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Fd={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Md=Symbol.for("prisma.client.transaction.id"),Dd={id:0,nextId(){return++this.id}};function _d(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Gn();constructor(n){e=n.__internal?.configOverride?.(e)??e,n&&Ua(n,e);let i=new Id().on("error",()=>{});this._extensions=ke.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??_a,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=ka();let o;if(n?.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new je(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},l=(s.__internal??{}).debug===!0;if(l&&k.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:l,logLevel:s.log&&Ia(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(c=>typeof c=="string"?c==="query":c.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new je(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},Rt("clientVersion",e.clientVersion),this._engine=wa(this._engineConfig),this._requestHandler=new Fr(this,i),s.log)for(let c of s.log){let u=typeof c=="string"?c:c.emit==="stdout"?c.level:null;u&&this.$on(u,p=>{et.log(`${et.tags[u]??""}`,p.message||p.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=ut(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{yi()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:Wn({clientMethod:i,activeProvider:a}),callsite:te(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=Ba(n,i);return Jn(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new kt("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(Jn(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new kt(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:xa,callsite:te(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:Wn({clientMethod:i,activeProvider:a}),callsite:te(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...Ba(n,i));throw new kt("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new kt("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Dd.nextId(),s=Oa(n.length),a=n.map((l,c)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let u=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,p={kind:"batch",id:o,index:c,isolationLevel:u,lock:s};return l.requestTransaction?.(p)??l});return ja(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),l;try{let c={kind:"itx",...a};l=await n(this._createItxClient(c)),await this._engine.transaction("commit",o,a)}catch(c){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),c}return l}_createItxClient(n){return q(ut(q(Eo(this),[O("_appliedParent",()=>this._appliedParent._createItxClient(n)),O("_createPrismaPromise",()=>Gn(n)),O(Md,()=>n.id)])),[Oe(So)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Fd,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async l=>{let{runInTransaction:c,args:u,...p}=l,y={...n,...p};u&&(y.args=i.middlewareArgsToRequestArgs(u)),n.transaction!==void 0&&c===!1&&delete y.transaction;let g=await Io(this,y);return y.model?vo({result:g,modelName:y.model,args:y.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):g};return this._tracingHelper.runInChildSpan(s.operation,()=>new Od("prisma-client-request").runInAsyncScope(()=>a(o)))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:l,argsMapper:c,transaction:u,unpacker:p,otelParentCtx:y,customDataProxyFetch:g}){try{n=c?c(n):n;let x={name:"serialize"},b=this._tracingHelper.runInChildSpan(x,()=>Zr({modelName:l,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return k.enabled("prisma:client")&&(Rt("Prisma Client call:"),Rt(`prisma.${i}(${co(n)})`),Rt("Generated request:"),Rt(JSON.stringify(b,null,2)+`
`)),u?.kind==="batch"&&await u.lock,this._requestHandler.request({protocolQuery:b,modelName:l,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:u,unpacker:p,otelParentCtx:y,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:g})}catch(x){throw x.clientVersion=this._clientVersion,x}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=To}return t}function Ba(e,t){return Nd(e)?[new kd(e,t),Sa]:[e,Ca]}function Nd(e){return Array.isArray(e)&&Array.isArray(e.raw)}var Ld=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function $d(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Ld.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}var Vd=()=>globalThis.process?.release?.name==="node",qd=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Ud=()=>!!globalThis.Deno,jd=()=>typeof globalThis.Netlify=="object",Bd=()=>typeof globalThis.EdgeRuntime=="object",Qd=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function Hd(){return[[jd,"netlify"],[Bd,"edge-light"],[Qd,"workerd"],[Ud,"deno"],[qd,"bun"],[Vd,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var Jd={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Wd(){let e=Hd();return{id:e,prettyName:Jd[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}import{PrismaClientInitializationError as je,PrismaClientKnownRequestError as Yn,PrismaClientRustPanicError as Ir,PrismaClientUnknownRequestError as ei,PrismaClientValidationError as kt}from"@prisma/client-runtime-utils";import{empty as WP,join as GP,raw as KP,Sql as zP,sql as ZP}from"@prisma/client-runtime-utils";import{AnyNull as YP,DbNull as eA,isAnyNull as tA,isDbNull as rA,isJsonNull as nA,JsonNull as iA,NullTypes as oA,ObjectEnumValue as sA}from"@prisma/client-runtime-utils";import{Decimal as lA}from"@prisma/client-runtime-utils";export{YP as AnyNull,$t as DMMF,eA as DbNull,k as Debug,lA as Decimal,ii as Extensions,iA as JsonNull,oA as NullTypes,sA as ObjectEnumValue,je as PrismaClientInitializationError,Yn as PrismaClientKnownRequestError,Ir as PrismaClientRustPanicError,ei as PrismaClientUnknownRequestError,kt as PrismaClientValidationError,si as Public,zP as Sql,Ec as createParam,_c as defineDmmfProperty,ce as deserializeJsonResponse,Xn as deserializeRawResult,el as dmmfToRuntimeDataModel,WP as empty,_d as getPrismaClient,Wd as getRuntime,tA as isAnyNull,rA as isDbNull,nA as isJsonNull,GP as join,$d as makeStrictEnum,Lc as makeTypedQueryFactory,KP as raw,Zr as serializeJsonQuery,Kr as skip,ZP as sqltag,Oi as warnOnce};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=client.mjs.map
